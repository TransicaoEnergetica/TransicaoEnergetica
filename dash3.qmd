---
title: ""
format: 
  dashboard:
    nav-buttons: [github]
    github: https://github.com/
logo: images/logo.png
theme: [sandstone, theme/custom.scss]
fig-width: 10
fig-asp: 0.3
editor_options: 
  chunk_output_type: console
---


```{r}
#| label: load-packages
#| message: false
#| context: setup
library(tidyverse)
# theme_set(theme_minimal(base_size = 12, base_family = "Atkinson Hyperlegible"))
```

# {.sidebar}

![](images/logo.png){width="50%"}

As análises foram feitas usanso os dados da EIA.


# Geração e Consumo


```{r}
#| label: carregando-dados
#| message: false
library(tidyverse)
data <- readxl::read_excel("data/ger_energ_40_30-04-24.xlsx", sheet="geracao_consumo")
data <- data %>% select(-tipo_geracao_bak)
```


## Column {.tabset}

```{r}
#| title: Geração Top 10
d1 <- data %>% filter(tipo_geracao=="Geração", Ano==2021) 
d1 %>% arrange(desc(BKWH)) %>% head(10) %>% select(-tipo_geracao) %>% knitr::kable(label = "Geração")
```

```{r}
#| title: Consumo Top 10
d1 <- data %>% filter(tipo_geracao=="Consumo", Ano==2021) 
d1 %>% arrange(desc(BKWH)) %>% head(10) %>% select(-tipo_geracao) %>% knitr::kable(label = "Consumo")
```

# Geração e Consumo 1980-2021

```{r}
d1 <- data %>% filter(pais %in% c("China", "United States","India","Russia", "Japan", "Brazil", "Canada", "South Korea", "Germany", "France") & tipo_geracao=="Geração")
d1 %>% arrange(desc(BKWH)) %>% head(10) %>% select(-tipo_geracao)
d1 %>% ggplot(aes(x=Ano, y=BKWH, color=pais)) + geom_point() + geom_line()
```

